{"version":3,"sources":["../../src/datasource-zabbix/config.controller.js"],"names":["_","SUPPORTED_SQL_DS","defaultConfig","dbConnection","enable","ZabbixDSConfigController","$scope","$injector","datasourceSrv","defaults","current","jsonData","sqlDataSources","getSupportedSQLDataSources","datasources","getAll","filter","includes","ds","type","templateUrl"],"mappings":";;;;;;;;;;;;;;;AAAOA,O;;;;;;;;;;;;;;;;;;;;;AAEDC,sB,GAAmB,CAAC,OAAD,EAAU,UAAV,C;AAEnBC,mB,GAAgB;AACpBC,sBAAc;AACZC,kBAAQ;AADI;AADM,O;;0CAMTC,wB;AACX;AACA,0CAAYC,MAAZ,EAAoBC,SAApB,EAA+BC,aAA/B,EAA8C;AAAA;;AAC5C,eAAKA,aAAL,GAAqBA,aAArB;;AAEAR,YAAES,QAAF,CAAW,KAAKC,OAAL,CAAaC,QAAxB,EAAkCT,aAAlC;AACA,eAAKU,cAAL,GAAsB,KAAKC,0BAAL,EAAtB;AACD;;;;uDAE4B;AAC3B,gBAAIC,cAAc,KAAKN,aAAL,CAAmBO,MAAnB,EAAlB;AACA,mBAAOf,EAAEgB,MAAF,CAASF,WAAT,EAAsB,cAAM;AACjC,qBAAOd,EAAEiB,QAAF,CAAWhB,gBAAX,EAA6BiB,GAAGC,IAAhC,CAAP;AACD,aAFM,CAAP;AAGD;;;;;;;;AAGHd,+BAAyBe,WAAzB,GAAuC,wCAAvC","file":"config.controller.js","sourcesContent":["import _ from 'lodash';\r\n\r\nconst SUPPORTED_SQL_DS = ['mysql', 'postgres'];\r\n\r\nconst defaultConfig = {\r\n  dbConnection: {\r\n    enable: false,\r\n  }\r\n};\r\n\r\nexport class ZabbixDSConfigController {\r\n  /** @ngInject */\r\n  constructor($scope, $injector, datasourceSrv) {\r\n    this.datasourceSrv = datasourceSrv;\r\n\r\n    _.defaults(this.current.jsonData, defaultConfig);\r\n    this.sqlDataSources = this.getSupportedSQLDataSources();\r\n  }\r\n\r\n  getSupportedSQLDataSources() {\r\n    let datasources = this.datasourceSrv.getAll();\r\n    return _.filter(datasources, ds => {\r\n      return _.includes(SUPPORTED_SQL_DS, ds.type);\r\n    });\r\n  }\r\n}\r\n\r\nZabbixDSConfigController.templateUrl = 'datasource-zabbix/partials/config.html';\r\n"]}